# Environment variables for local development
# Copy this file to .env and modify as needed

# =============================================================================
# REQUIRED SECRETS (MUST be set before running)
# =============================================================================

# Security - Master Key for envelope encryption (REQUIRED)
# Generate with: python -c "import secrets; import base64; print(base64.b64encode(secrets.token_bytes(32)).decode())"
EDGEGENAI_MASTER_KEY=

# JWT Configuration (REQUIRED)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=

# =============================================================================
# Database
# =============================================================================
DATABASE_URL=postgresql+asyncpg://edgegate:edgegate_dev@localhost:5433/edgegate
DATABASE_URL_SYNC=postgresql://edgegate:edgegate_dev@localhost:5433/edgegate
POSTGRES_PASSWORD=edgegate_dev

# =============================================================================
# Object Storage (S3-compatible / MinIO)
# =============================================================================
S3_ENDPOINT_URL=http://localhost:9002
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET_NAME=edgegate-artifacts
S3_REGION=us-east-1
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# =============================================================================
# Redis (Celery broker)
# =============================================================================
REDIS_URL=redis://localhost:6380/0
CELERY_BROKER_URL=redis://localhost:6380/0
CELERY_RESULT_BACKEND=redis://localhost:6380/1

# =============================================================================
# Application
# =============================================================================
APP_ENV=development
APP_DEBUG=true
API_HOST=0.0.0.0
API_PORT=8000

# CORS - comma-separated list of allowed origins, or "*" for all
CORS_ORIGINS=*

# Rate limiting (requests per minute per IP)
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# =============================================================================
# JWT
# =============================================================================
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60

# Signing Keys Directory
SIGNING_KEYS_PATH=./data/signing_keys

# =============================================================================
# AI Hub Integration (optional)
# =============================================================================
# QAIHUB_API_TOKEN=your_token_here

# =============================================================================
# Monitoring & Logging
# =============================================================================
# Sentry DSN for error tracking (optional - leave empty to disable)
# Get your DSN from https://sentry.io
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Set to 1 to enable Sentry in development
# SENTRY_FORCE_ENABLE=0

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# Hard Limits (from PRD ยง5)
# =============================================================================
LIMIT_MODEL_UPLOAD_SIZE_MB=500
LIMIT_PROMPTPACK_CASES=50
LIMIT_DEVICES_PER_RUN=5
LIMIT_WARMUP_RUNS=1
LIMIT_REPEATS_DEFAULT=3
LIMIT_REPEATS_MAX=5
LIMIT_MAX_NEW_TOKENS_DEFAULT=128
LIMIT_MAX_NEW_TOKENS_MAX=256
LIMIT_RUN_TIMEOUT_DEFAULT_MINUTES=20
LIMIT_RUN_TIMEOUT_MAX_MINUTES=45
LIMIT_WORKSPACE_CONCURRENCY=1
LIMIT_ARTIFACT_RETENTION_DAYS=30
